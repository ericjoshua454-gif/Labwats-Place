<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menu - Labwat's Kitchen</title>
  <link rel="stylesheet" href="style.css">

  <!-- Responsive CSS -->
  <link rel="stylesheet" href="mobile.css" media="(max-width: 768px)">
  <link rel="stylesheet" href="tablet.css" media="(min-width: 769px) and (max-width: 1024px)">
  <link rel="stylesheet" href="desktop.css" media="(min-width: 1025px)">

  <style>
    /* Order Button */
    .order-btn {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.6rem 1rem;
      border-radius: 6px;
      font-weight: bold;
      text-decoration: none;
      cursor: pointer;
      transition: 0.3s ease;
    }
    .order-btn.whatsapp {
      background: #25D366;
      color: white;
    }
    .order-btn.whatsapp:hover {
      background: #1ebd5b;
    }

    /* Floating WhatsApp */
    .whatsapp-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25D366;
      color: white;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 1000;
      transition: background 0.3s ease;
    }
    .whatsapp-float:hover {
      background: #1ebd5b;
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="logo">Labwat's Kitchen</div>
    <button class="hamburger">☰</button>
    <ul class="nav-menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="menu.html" class="active">Menu</a></li>
      <li><a href="recipe.html">Recipes</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- Hero Section -->
  <section class="hero-menu">
    <h1>Our Menu</h1>
    <p>Delicious meals crafted with love, passion, and creativity</p>
  </section>

  <!-- Menu Accordion -->
  <section class="menu-content">
    <div class="container">
      <h2>Explore Our Dishes</h2>
      <div class="accordion">

        <!-- ⭐ Specials -->
        <div class="accordion-item">
          <button class="accordion-header">⭐ Specials <span class="icon">+</span></button>
          <div class="accordion-body">
            <div class="dish">
              <img src="images/shawarma.jpg">
              <p>Shawarma (Chicken or Beef) – ₦5000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Shawarma (Chicken or Beef)', 5000)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/fishpeppersoup.jpg">
              <p>Catfish Pepper Soup – ₦4,500</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Catfish Pepper Soup', 4500)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/asun.jpg">
              <p>Spicy Asun (Goat Meat) – ₦4,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Spicy Asun (Goat Meat)', 4000)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/smallchops.jpg">
              <p>Small Chops Platter – ₦5,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Small Chops Platter', 5000)">💬 Order</button>
            </div>
          </div>
        </div>

        <!-- 🥗 Appetizers -->
        <div class="accordion-item">
          <button class="accordion-header">🥗 Appetizers <span class="icon">+</span></button>
          <div class="accordion-body">
            <div class="dish">
              <img src="images/suya.jpg">
              <p>Suya Skewers – ₦2,500</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Suya Skewers', 2500)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/puffpuff.jpg">
              <p>Puff Puff – ₦1,200</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Puff Puff', 1200)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/chinchin.jpg">
              <p>Chin Chin – ₦1,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Chin Chin', 1000)">💬 Order</button>
            </div>
          </div>
        </div>

        <!-- 🍲 Main Courses -->
        <div class="accordion-item">
          <button class="accordion-header">🍲 Main Courses <span class="icon">+</span></button>
          <div class="accordion-body">
            <div class="dish">
              <img src="images/jollof.jpg">
              <p>Classic Jollof Rice – ₦3,500</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Classic Jollof Rice', 3500)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/egusi.jpg">
              <p>Egusi Soup & Pounded Yam – ₦4,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Egusi Soup & Pounded Yam', 4000)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/ofada.jpg">
              <p>Ofada Rice & Ayamase – ₦4,200</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Ofada Rice & Ayamase', 4200)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/efo.jpg">
              <p>Efo Riro with Beef – ₦3,800</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Efo Riro with Beef', 3800)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/okro.jpg">
              <p>Okro Soup & Fish – ₦3,600</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Okro Soup & Fish', 3600)">💬 Order</button>
            </div>
          </div>
        </div>

        <!-- 👶 Kiddies Menu -->
        <div class="accordion-item">
          <button class="accordion-header">👶 Kiddies Menu <span class="icon">+</span></button>
          <div class="accordion-body">
            <div class="dish">
              <img src="images/kidsspaghetti.jpg">
              <p>Kids Spaghetti & Meatballs – ₦2,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Kids Spaghetti & Meatballs', 2000)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/chipsnuggets.jpg">
              <p>Chicken Nuggets & Fries – ₦2,500</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Chicken Nuggets & Fries', 2500)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/pancakes.jpg">
              <p>Fluffy Pancakes with Syrup – ₦1,800</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Fluffy Pancakes with Syrup', 1800)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/miniburger.jpg">
              <p>Mini Burger & Juice Pack – ₦2,200</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Mini Burger & Juice Pack', 2200)">💬 Order</button>
            </div>
          </div>
        </div>

        <!-- 🍰 Desserts -->
        <div class="accordion-item">
          <button class="accordion-header">🍰 Desserts <span class="icon">+</span></button>
          <div class="accordion-body">
            <div class="dish">
              <img src="images/moimoi.jpg">
              <p>Moimoi Special – ₦1,800</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Moimoi Special', 1800)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/coconut.jpg">
              <p>Coconut Pudding – ₦2,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Coconut Pudding', 2000)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/icecream.jpg">
              <p>Vanilla Ice Cream – ₦1,500</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Vanilla Ice Cream', 1500)">💬 Order</button>
            </div>
          </div>
        </div>

        <!-- 🍷 Drinks -->
        <div class="accordion-item">
          <button class="accordion-header">🍷 Wines & Drinks <span class="icon">+</span></button>
          <div class="accordion-body">
            <div class="dish">
              <img src="images/redwine.jpg">
              <p>Red Wine – ₦7,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Red Wine', 7000)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/whitewine.jpg">
              <p>White Wine – ₦6,500</p>
              <button class="order-btn whatsapp" onclick="placeOrder('White Wine', 6500)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/rose.jpg">
              <p>Rosé Wine – ₦6,800</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Rosé Wine', 6800)">💬 Order</button>
            </div>
            <div class="dish">
              <img src="images/champagne.jpg">
              <p>Champagne – ₦15,000</p>
              <button class="order-btn whatsapp" onclick="placeOrder('Champagne', 15000)">💬 Order</button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p class="footer-motto">"From the East to the West, our food is the best."</p>
    <p>&copy; 2025 Labwat's Kitchen. All Rights Reserved.</p>
  </footer>

  <!-- Floating WhatsApp -->
  <a href="https://wa.me/2349132963161" class="whatsapp-float" target="_blank">💬</a>

  <!-- JS Files -->
  <script src="main.js"></script>
  <script src="mobile-features.js"></script>
  <script src="tablet-features.js"></script>
  <script src="desktop-features.js"></script>
  <script src="script.js"></script>

  <!-- ✅ Supabase Integration -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = "https://bqwsozssaxegxsdfalnd.supabase.co";
    const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxd3NvenNzYXhlZ3hzZGZhbG5kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNjE1MzcsImV4cCI6MjA3NTkzNzUzN30._FZbzpsmEDtE7cUT7bWWA21404zVLDy2XM9WjZyLcWE"; // Replace with your actual key
    const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function placeOrder(itemName, itemPrice) {
      try {
        const whatsappNumber = "2349132963161";
        const message = `Hi! I want to order: ${itemName} - ₦${itemPrice} from Labwat's Kitchen.`;
        const encodedMessage = encodeURIComponent(message);

        // 1️⃣ Save order to Supabase
        const { data, error } = await sb.from('orders').insert([
          {
            item: itemName,
            amount: itemPrice,
            status: "Pending",
            date: new Date().toISOString()
          }
        ]);

        if (error) {
          console.error("Supabase order error:", error.message);
          alert("Could not save order. Please try again.");
          return;
        }

        console.log("Order saved:", data);

        // 2️⃣ Redirect to WhatsApp dynamically
        const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
        window.open(whatsappLink, "_blank");
      } catch (err) {
        console.error("Order error:", err);
        alert("Something went wrong. Please try again.");
      }
    }
  </script>
</body>
</html>
